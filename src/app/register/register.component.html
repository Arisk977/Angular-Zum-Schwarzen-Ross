<app-header></app-header>

<div class="register-container">
    <h2>üìù Registrierung</h2>

    <form (ngSubmit)="register()" #registerForm="ngForm" class="register-form">
        <!-- Vorname -->
        <label for="firstName">Vorname</label>
        <input type="text" id="firstName" name="firstName" [(ngModel)]="user.firstName" required #firstName="ngModel" />
        <div class="error" *ngIf="firstName.invalid && firstName.touched">Pflichtfeld</div>

        <!-- Nachname -->
        <label for="lastName">Nachname</label>
        <input type="text" id="lastName" name="lastName" [(ngModel)]="user.lastName" required #lastName="ngModel" />
        <div class="error" *ngIf="lastName.invalid && lastName.touched">Pflichtfeld</div>

        <!-- Stra√üe + Hausnummer -->
        <div class="row address-row">
            <div class="col street">
                <label for="street">Stra√üe</label>
                <input type="text" id="street" name="street" [(ngModel)]="user.street" required #street="ngModel" />
            </div>

            <div class="col house">
                <label for="houseNumber">Nr.</label>
                <input type="text" id="houseNumber" name="houseNumber" [(ngModel)]="user.houseNumber" required
                    maxlength="5" #houseNumber="ngModel" />
            </div>
        </div>

        <!-- PLZ + Ort -->
        <div class="row city-row">
            <div class="col zip">
                <label for="postalCode">PLZ</label>
                <input type="text" id="postalCode" name="postalCode" [(ngModel)]="user.postalCode" required
                    maxlength="5" #postalCode="ngModel" />
            </div>

            <div class="col city">
                <label for="city">Ort</label>
                <input type="text" id="city" name="city" [(ngModel)]="user.city" required #city="ngModel" />
            </div>
        </div>


        <!-- Telefonnummer -->
        <label for="phone">Telefonnummer</label>
        <input type="tel" id="phone" name="phone" [(ngModel)]="user.phone" required pattern="^[0-9+\s-]{6,}$"
            #phone="ngModel" />
        <div class="error" *ngIf="phone.invalid && phone.touched">
            Bitte g√ºltige Telefonnummer eingeben
        </div>

        <!-- Email -->
        <label for="email">E-Mail</label>
        <input type="email" id="email" name="email" [(ngModel)]="user.email" required email #email="ngModel" />
        <div class="error" *ngIf="email.invalid && email.touched">
            Bitte g√ºltige E-Mail eingeben
        </div>

        <!-- Passwort -->
        <label for="password">Passwort</label>
        <input type="password" id="password" name="password" [(ngModel)]="user.password" required minlength="6"
            #password="ngModel" />
        <div class="error" *ngIf="password.invalid && password.touched">
            Mindestens 6 Zeichen
        </div>

        <!-- Datenschutz -->
        <div class="checkbox-wrapper">
            <input type="checkbox" id="privacy" name="privacy" [(ngModel)]="privacyAccepted" required
                #privacy="ngModel" />
            <label for="privacy">
                Ich akzeptiere die
                <a routerLink="/datenschutz" target="_blank">Datenschutzrichtlinie</a>.
            </label>
        </div>
        <div class="error" *ngIf="privacy.invalid && privacy.touched">
            Zustimmung erforderlich
        </div>

        <!-- Button -->
        <button type="submit" [disabled]="registerForm.invalid">Registrieren</button>
    </form>
</div>