<div class="modal-header">
  <h4 class="modal-title">{{ title }}</h4>
  <button type="button" class="btn-close" aria-label="Close" (click)="close()"></button>
</div>

<!-- ================= BODY ================= -->
<div class="modal-body">
  <!-- Standard Ansicht -->
  <ng-container *ngIf="!isDeleteIngredientsActive; else deleteIngredientsView">
    <div class="fade-slide">
      <ng-container *ngIf="gerichte.length > 0; else keineDaten">
        <app-speisen-gruppe
          *ngFor="let gruppe of groupByUnterkategorie(gerichte)"
          [gruppe]="gruppe"
          (gerichtSelected)="openDeleteIngredients($event)">
        </app-speisen-gruppe>
      </ng-container>

      <ng-template #keineDaten>
        <p>❌ Keine Gerichte in dieser Kategorie gefunden.</p>
      </ng-template>
    </div>
  </ng-container>

  <!-- Delete Ingredients View -->
  <ng-template #deleteIngredientsView>
    <div class="fade-slide">
      <app-delete-ingredients
        [gericht]="gerichtZumBearbeiten!"
        (back)="backToList()"
        (selectionSubmitted)="handleIngredientDelete($event)">
      </app-delete-ingredients>
    </div>
  </ng-template>
</div>

<!-- ================= FOOTER ================= -->
<div class="modal-footer navigation-footer">
  <!-- Standard Footer -->
  <ng-container *ngIf="!isDeleteIngredientsActive; else deleteIngredientsFooter">
    <button class="arrow-btn" (click)="navigate('prev')" [disabled]="currentIndex === 0"> ← </button>
    <span class="page-info">{{ currentIndex + 1 }} / {{ kategorien.length }}</span>
    <button class="arrow-btn" (click)="navigate('next')" [disabled]="currentIndex === kategorien.length - 1"> → </button>
  </ng-container>

  <!-- Delete Ingredients Footer -->
 <ng-template #deleteIngredientsFooter>
  <div class="delete-footer fade-slide d-flex justify-content-between align-items-center w-100">
    <button type="button" class="btn btn-outline-secondary px-4" (click)="backToList()">
      Zurück
    </button>
    <button type="button" class="btn btn-primary px-4" (click)="triggerSubmitFromFooter()">
      Weiter
    </button>
  </div>
</ng-template>

</div>


<!-- Kategorie Pizza -->
<!-- <div class="modal-body">
    <div class="content">
        <label>
            <input type="radio" name="größe" value="30cm">
            30 cm
        </label>

        <label>
            <input type="radio" name="größe" value="40cm">
            40 cm
        </label>
    </div>
</div>

<div class="modal-footer navigation-footer">
    <button type="button" class="btn btn-primary">
  Weiter
</button>
</div> -->