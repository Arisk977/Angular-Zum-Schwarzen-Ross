<!-- Wenn NICHT geladen wird -->
<ng-container *ngIf="!isLoading; else loadingTpl">

  <app-header></app-header>

  <!-- √Ñu√üerer Wrapper -->
  <div class="payment-wrapper">
    <div class="payment-container">
      <h1>Zahlung</h1>

      <div class="content" *ngIf="order">
        <p><strong>Gesamtbetrag:</strong> {{ order.total | currency:'EUR' }}</p>

        <h3>Zahlungsmethode w√§hlen:</h3>

        <div class="payment-options">
          <label>
            <input
              type="radio"
              name="payment"
              value="bar"
              [(ngModel)]="paymentMethod"
              (change)="onPaymentChange()"
            />
            Barzahlung bei Lieferung / Abholung
          </label>

          <label>
            <input
              type="radio"
              name="payment"
              value="paypal"
              [(ngModel)]="paymentMethod"
              (change)="onPaymentChange()"
            />
            PayPal
          </label>

          <label>
            <input
              type="radio"
              name="payment"
              value="karte"
              [(ngModel)]="paymentMethod"
              (change)="onPaymentChange()"
            />
            Kreditkarte / Debitkarte
          </label>
        </div>
      </div>
    </div>

    <div class="paypal-zone-wrapper">
      <div id="payment-form" class="paypal-zone"></div>

      <button
        *ngIf="paymentMethod === 'bar'"
        (click)="confirmPaymentSuccess(paymentMethod)"
        class="pay-button buttons"
      >
        Zahlung best√§tigen
      </button>
    </div>
  </div>

</ng-container>

<!-- üîπ Loading Spinner Template -->
<ng-template #loadingTpl>
  <app-loading-spinner></app-loading-spinner>
</ng-template>
